<!doctype html>
<html lang="en">
   <head>
<link rel="stylesheet" type="text/css" href="/MegaloDocs/css/main.css">
<link rel="icon" href="/MegaloDocs/res/favicon.svg" sizes="any" type="image/svg+xml">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.15.3/css/all.min.css">
      <meta charset="UTF-8" />
      
      <title>Format String | RVT</title>
      <base href="../../" />
      
   </head>
   <body>
<header>
        <div>
            <div>
                <a href="/MegaloDocs/index.html" class="logo">
                    <!-- Replace with your logo or other SVG -->
                    <svg version="1.1" xmlns="http://www.w3.org/2000/svg" width="100" height="100" preserveAspectRatio="xMidYMid meet">
                        <path d="M0 0 C10.57975431 7.53549108 17.69696826 17.95082352 20.7421875 30.6328125 C22.01600569 38.71765855 21.42385043 45.94141259 17.125 53.0625 C12.68958102 57.97091135 9.04087251 60.82349406 2.3125 61.375 C-2.0608685 61.31872504 -4.49897294 59.88894126 -7.875 57.0625 C-11.67274411 52.87188581 -11.98616121 48.93417024 -12.19140625 43.421875 C-12.23330078 42.35195313 -12.27519531 41.28203125 -12.31835938 40.1796875 C-12.35767578 39.06851563 -12.39699219 37.95734375 -12.4375 36.8125 C-12.48068359 35.68585937 -12.52386719 34.55921875 -12.56835938 33.3984375 C-12.67432015 30.61991046 -12.77639142 27.84129609 -12.875 25.0625 C-13.51946044 26.32423006 -14.16077468 27.58756741 -14.80078125 28.8515625 C-15.15825439 29.55490723 -15.51572754 30.25825195 -15.8840332 30.98291016 C-18.79635982 37.09456281 -19.36637245 43.4101871 -19.875 50.0625 C-21.855 50.5575 -21.855 50.5575 -23.875 51.0625 C-24.01035156 50.04671875 -24.14570312 49.0309375 -24.28515625 47.984375 C-24.50129852 46.59354647 -24.71882293 45.20293224 -24.9375 43.8125 C-25.02193359 43.14992187 -25.10636719 42.48734375 -25.19335938 41.8046875 C-26.36704509 34.69550546 -30.07367333 29.08322297 -33.875 23.0625 C-33.91987549 24.2585083 -33.96475098 25.4545166 -34.01098633 26.68676758 C-34.18114049 31.1210205 -34.37006719 35.55430831 -34.56469727 39.98754883 C-34.64632833 41.90693373 -34.72285619 43.8265427 -34.79418945 45.74633789 C-34.89757004 48.50481701 -35.01923833 51.26197137 -35.14453125 54.01953125 C-35.1869268 55.30873222 -35.1869268 55.30873222 -35.23017883 56.62397766 C-35.26999374 57.42458115 -35.30980865 58.22518463 -35.35083008 59.05004883 C-35.37969803 59.7539827 -35.40856598 60.45791656 -35.43830872 61.18318176 C-36.01961436 63.68485361 -36.77603305 64.58920829 -38.875 66.0625 C-40.525 66.0625 -42.175 66.0625 -43.875 66.0625 C-43.875 49.5625 -43.875 33.0625 -43.875 16.0625 C-45.855 17.3825 -47.835 18.7025 -49.875 20.0625 C-51.195 20.0625 -52.515 20.0625 -53.875 20.0625 C-54.205 19.0725 -54.535 18.0825 -54.875 17.0625 C-49.64895792 12.63172519 -47.14737431 10.74727345 -40.1875 10.84765625 C-34.28516464 11.39601511 -30.69663156 14.82771909 -26.875 19.0625 C-26.318125 19.825625 -25.76125 20.58875 -25.1875 21.375 C-24.754375 21.931875 -24.32125 22.48875 -23.875 23.0625 C-23.215 23.0625 -22.555 23.0625 -21.875 23.0625 C-21.17375 22.010625 -20.4725 20.95875 -19.75 19.875 C-16.927335 15.77838885 -13.53497919 12.89109943 -8.875 11.0625 C-6.87528551 11.02870683 -4.87465815 11.02552294 -2.875 11.0625 C-2.86041748 12.25327148 -2.84583496 13.44404297 -2.83081055 14.67089844 C-2.77280765 19.09177577 -2.69557485 23.51214481 -2.61254883 27.93261719 C-2.57930886 29.84529364 -2.55127401 31.75806797 -2.52856445 33.67089844 C-2.49500131 36.42164794 -2.44268511 39.17150132 -2.38671875 41.921875 C-2.38032883 42.77618103 -2.3739389 43.63048706 -2.36735535 44.51068115 C-2.23202013 50.36429376 -2.23202013 50.36429376 1.125 55.0625 C5.15077541 54.82568968 7.57957497 54.45917275 10.875 52.0625 C15.58199643 45.78650476 16.77575996 39.69992948 15.7578125 31.95703125 C13.37771406 21.07028467 8.0190119 11.29776566 -1.125 4.75 C-12.06880556 -1.85306924 -23.47800101 -4.01019618 -36.02734375 -1.2421875 C-46.44940326 2.23670473 -55.84436422 8.62603825 -61.16015625 18.43359375 C-65.78905398 28.53753181 -66.85036262 40.41080477 -63.25 51.0625 C-59.59772336 59.57599502 -53.56303387 66.85972179 -45.875 72.0625 C-42.69974 73.29861095 -39.58762627 74.25988037 -36.28125 75.078125 C-35.4871875 75.40296875 -34.693125 75.7278125 -33.875 76.0625 C-33.03125 78.171875 -33.03125 78.171875 -32.875 80.0625 C-43.88100823 79.70164727 -52.28693876 74.69818695 -59.796875 66.76953125 C-69.08587454 54.66938711 -71.26683832 41.95058155 -69.875 27.0625 C-67.139564 15.05356794 -60.63394347 6.26559396 -50.4375 -0.43359375 C-34.50001784 -9.78714654 -15.7195307 -9.94029147 0 0 Z " transform="translate(73.875,12.9375)"/>
                    </svg>
                        Megalo Docs
                </a>
                
</div>
            </div>
            <div>
                <nav aria-label="Main menu">
                    <ul>
                        <li>
                            <a href="MegaloDocs/tips/scripts.html">Scripts</a>
                        </li>
                        <li>
                            <a href="https://discord.gg/Z2ZvPsCbcc" target="_blank">Discord</a>
                        </li>
                        <li>
                            <a href="https://halocustoms.com/maps/categories/gametypes.40/" target="_blank">Gametypes</a>
                        </li>
                    </ul>
                </nav>
                <div>
<button id="theme-toggle" title="Theme" type="button" aria-haspopup="menu" aria-label="Theme" aria-expanded="false">
                    <i class="fas fa-adjust"></i>
                </button>
</div>
            </div>
        </div>
    </header>
       
      <div id="breadcrumb"></div>
<div id="sidebar-wrapper">
        <div id="sidebar">
            <a href="/MegaloDocs/index.html" >Home</a>
            <div class="dropdown-container">
                <div class="dropdown">
                    <button>Reach Variant Tool</button>
                    <div class="dropdown-content">
                        <ul>
                            <li>
                                <a>Script API reference</a>
<a href="/MegaloDocs/rvt/action_list.html">Action List</a>
<a href="/MegaloDocs/rvt/condition_list.html">Condition List</a>
<a href="/MegaloDocs/rvt/property_list.html">Property List</a>
                                <ul>
                                    <li data-dont-default-collapse="">
                                        <a class="dropdown-toggle" href="#">Namespaces</a>
                                        <ul style="display:none;" class="dropdown-content">
                                            <li><a href="/MegaloDocs/rvt/script/api/ns_unnamed.html">Content not in any namespace</a></li>
                                            <li><a href="/MegaloDocs/rvt/script/api/enums.html">enums</a></li>
                                            <li><a href="/MegaloDocs/rvt/script/api/game.html">game</a></li>
                                            <li><a href="/MegaloDocs/rvt/script/api/global.html">global</a></li>
                                            <li><a href="/MegaloDocs/rvt/script/api/temporaries.html">temporaries</a></li>
                                        </ul>
                                    </li>
                                    <li data-dont-default-collapse="">
                                        <a href="#" class="dropdown-toggle">Types</a>
                                        <ul style="display:none;" class="dropdown-content">
                                            <li data-dont-default-collapse="">
                                                <a href="#" class="dropdown-toggle">Variables</a>
                                                <ul style="display:none;" class="dropdown-content">
                                                    <li><a href="/MegaloDocs/rvt/script/api/number.html">Number</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/object.html">Object</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/player.html">Player</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/team.html">Team</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/timer.html">Timer</a></li>
                                                </ul>
                                            </li>
                                            <li data-dont-default-collapse="">
                                                <a href="#" class="dropdown-toggle">Misc</a>
                                                <ul style="display:none;" class="dropdown-content">
                                                    <li><a href="/MegaloDocs/rvt/script/api/bool.html">Bool</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/engine-icon.html">Engine Icon</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/forge-label.html">Forge Label</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/format-string.html">Format String</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/incident.html">Incident</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/object-type.html">Object Type</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/player-set.html">Player Set</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/player-traits.html">Player Traits</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/sound.html">Sound</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/variant-string-id.html">Variant ID</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/waypoint-icon.html">Waypoint Icon</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/widget.html">Widget</a></li>
                                                    <li><a href="/MegaloDocs/rvt/script/api/widget-icon.html">Widget Icon</a></li>
                                                </ul>
                                            </li>
                                        </ul>
                                    </li>
                                    <!-- Rest of your structure here -->
                                </ul>
                            </li>
                        </ul>
                        <a href="#">Subpage 2</a>
                    </div>
                </div>
            </div>
            <div class="dropdown-container">
                <div class="dropdown">
                    <button>Megalo Edit</button>
<div class="dropdown-content">
     <a href="/MegaloDocs/MegaloEdit/actions/actions.html">Actions</a>
                    <div class="dropdown-content">
                        <a href="#">Subpage 1</a>
                        <a href="#">Subpage 2</a>
                    </div>
                </div>
            </div>
            <div class="dropdown-container">
                <div class="dropdown">
                    <a href="#">Universal Gametype Editor</a>
                    <div class="dropdown-content">
                        <a href="#">Subpage 1</a>
                        <a href="#">Subpage 2</a>
                    </div>
                </div>
            </div>
            <div class="dropdown-container">
                <div class="dropdown">
                    <a href="#">Megalograph</a>
                    <div class="dropdown-content">
                        <a href="#">Subpage 1</a>
                        <a href="#">Subpage 2</a>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<main id="main">
         <h1>Format String</h1>

      <p>
         Halo: Reach's scripting engine supports the display of "format strings." A 
         format string can be a simple piece of text, but it can also include little 
         placeholders that will automatically be replaced with other values (the 
         format string "parameters") when the string is displayed. Up to two 
         additional parameters can be provided after the format string itself.
      </p>
      <p>
         A percentage sign (<code>%</code>) marks the start of a placeholder; the 
         content after it determines the type of placeholder to use, and in some 
         cases, the options to use for the placeholder. If you want to write an 
         actual percentage sign in text, you must type <code>%%</code>. Using a 
         placeholder symbol incorrectly (including by writing just one <code>%</code> 
         symbol) will cause Halo: Reach to refuse to display your string.
      </p>
      
      <h2>Examples</h2>
      <p>
         Here's an example of how to use format strings: this code, taken from Slayer, 
         displays the number of points needed to win if the game variant has a score 
         limit.
      </p>
      <pre>
<span class="keyword">for</span> <span class="subkeyword">each</span> <span class="subkeyword">player</span> <span class="keyword">do</span>
   <span class="keyword">if</span> game.score_to_win != 0 <span class="keyword">and</span> game.teams_enabled == 1 <span class="keyword">then</span> 
      current_player.set_objective_text(<span class="string">"Kill players on the enemy team.\r\n%n points to win.</span>", game.score_to_win)
   <span class="keyword">end</span>
   <span class="keyword">if</span> game.score_to_win != 0 <span class="keyword">and</span> game.teams_enabled == 0 <span class="keyword">then</span> 
      current_player.set_objective_text(<span class="string">"Score points by killing other players.\r\n%n points to win.</span>", game.score_to_win)
   <span class="keyword">end</span>
   <span class="keyword">if</span> game.score_to_win == 0 <span class="keyword">and</span> game.teams_enabled == 1 <span class="keyword">then</span> 
      current_player.set_objective_text(<span class="string">"Kill players on the enemy team.</span>")
   <span class="keyword">end</span>
   <span class="keyword">if</span> game.score_to_win == 0 <span class="keyword">and</span> game.teams_enabled == 0 <span class="keyword">then</span> 
      current_player.set_objective_text(<span class="string">"Score points by killing other players.</span>")
   <span class="keyword">end</span>
<span class="keyword">end</span></pre>
      
      <h2><a name="persistent">Persistent strings</a></h2>
      <p>
         Some functions treat format strings as <dfn>persistent</dfn>. This means that 
         those particular strings can't be used to display "transient" variables — 
         that is, any variable whose value will likely be reset before the frame is over, 
         like the <a href="script/api/ns_unnamed/current_player.html"><var>current_player</var></a> or 
         <a href="script/api/ns_unnamed/killer_player.html"><var>killer_player</var></a> variables.
      </p>
      <p>
         The <a href="script/api/ns_game/show_message_to.html">game.show_message_to</a> function is an 
         example of a non-persistent string:
      </p>
      <pre>
<span class="keyword">for</span> <span class="subkeyword">each</span> <span class="subkeyword">player</span> <span class="keyword">do</span>
   <span class="keyword">if</span> current_player.number[0] == 1 <span class="keyword">then</span>
      game.show_message_to(all_players, <span class="string">"%s won the game!</span>", current_player)
      current_player.number[0] = 0
   <span class="keyword">end</span>
<span class="keyword">end</span></pre>
      <p>
         When that function runs, it will immediately substitute your format string 
         parameters into the format string, and it will pass the resulting text to 
         the kill feed, which remembers that text. This means that for the case above, 
         your kill feed message will always display whatever player was 
         <var>current_player</var> at the time the function was called.
      </p>
      <p>
         The <a href="script/api/widget/set_text.html">widget.set_text</a> function is an example of 
         a persistent string:
      </p>
      <pre>
script_widget[0].set_text(<span class="string">"%s won the game!</span>", global.player[0])</pre>
      <p>
         When that function runs, it doesn't <em>immediately</em> substitute out your 
         placeholders. Instead, it remembers the format string, and it remembers which 
         variables you passed as format string parameters — not the variables' 
         <em>values</em>, but the variables themselves. Every frame, the HUD widget 
         will take the format string and substitute out <code>%s</code> for the name 
         of <em>whatever player</em> happens to be the one referred to by <var>global.player[0]</var> 
         on that frame. If that variable's value is changed, the HUD widget will update 
         in real time.
      </p>
      <p>
         This is why transient variables can't be used with persistent strings: their 
         values don't last through a whole frame, so when the HUD widget (or object 
         waypoint or similar UI) redoes the format string substitution, the variables 
         won't have the values you intended.
      </p>
      <p>
         If you want players to see their own names (or variables) in a persistent 
         string, then use variables like <a href="script/api/ns_unnamed/local_player.html"><var>local_player</var></a>.
      </p>
      
      
      <h2>Placeholder codes by type</h2>
      <style>
      .default-result{display:block;border-top:1px solid #AAA;padding:.25em 0 0 0}
      </style>
      <p>
         Different placeholder codes are intended to format different kinds of 
         information. If you pass a value of the wrong type (e.g. passing a 
         player variable for a placeholder meant for numbers), then you'll see 
         a default value which varies depending on the placeholder code.
      </p>
      <p>
         If you don't pass any value at all, then the placeholder will be 
         cut out of the string, but the string should still display as long as 
         the placeholder itself was valid.
      </p>
      
      <h3>Integer number</h3>
      <dl>
         <dt>%n</dt>
         <dt>%o</dt>
         <dt>%p</dt>
         <dt>%s</dt>
         <dt>%t</dt>
            <dd>
               All of these codes print the number normally, as you would expect.
               <div class="default-result">
                  <b>Default result:</b> <code>0</code>
               </div>
            </dd>
      </dl>
      
      <h3>Object</h3>
      <dl>
         <dt>%n</dt>
         <dt>%o</dt>
         <dt>%p</dt>
         <dt>%s</dt>
         <dt>%t</dt>
            <dd>Displays the name of the object as defined in the map file. Note 
            that most objects don't have actual names defined, and will instead 
            display <code>unknown</code>.</dd>
      </dl>
      
      <h3>Player</h3>
      <dl>
         <dt>%n</dt>
         <dt>%o</dt>
         <dt>%p</dt>
         <dt>%s</dt>
         <dt>%t</dt>
            <dd>Displays the player's Xbox LIVE gamertag.</dd>
      </dl>
      
      <h3>Timer</h3>
      <dl>
         <dt>%n</dt>
         <dt>%o</dt>
         <dt>%p</dt>
         <dt>%s</dt>
         <dt>%t</dt>
            <dd>Displays minutes and seconds, separated with a colon and with 
            the seconds padded to two digits, e.g. <code>0:05</code>.</dd>
      </dl>
      
      <h3>Unknown</h3>
      <dl>
         <dt>%c</dt>
            <dd>Sometimes, this fails as an error and prevents the string from being 
            displayed. Other times, it produces a line break followed by the number 
            25. Notably, in ASCII, the number 25 is used to encode the percentage sign.</dd>
         <dt>%d</dt>
         <dt>%i</dt>
         <dt>%u</dt>
         <dt>%x</dt>
         <dt>%X</dt>
            <dd>
               <p>Seems to always produce <code>1</code>, no matter what you pass in.</p>
               <p>
                  In the C and C++ programming languages, these codes are used to 
                  format integers. You can put additional settings between the 
                  percentage sign and the number, in order to pad the number to 
                  a certain length using spaces or zeroes. Those settings work 
                  here, but they always act as if you passed in the number 1; 
                  <code>%03d</code>, for example, always produces <code>001</code>.
               </p>
            </dd>
         <dt>%S</dt>
         <dt>%Z</dt>
            <dd>Crashes the game instantly, when displayed.</dd>
      </dl>
      
      <h3>Decimal number</h3>
      <p>
         Format codes exist for decimal numbers, but it's not clear why. None of 
         the variable types available to Megalo are decimal numbers, and these 
         codes don't work for timers (except when timers have special meanings 
         for them).
      </p>
      <p>
         These codes seem to be meant for double-precision floating-point values.
      </p>
      <dl>
         <dt>%a</dt>
            <dd>
               Prints the number in hexadecimal (base-16) format.
               <div class="default-result">
                  <b>Default result:</b> <code>0x0.0000000000001p-1022</code>
               </div>
            </dd>
         <dt>%A</dt>
            <dd>
               Same as <code>%a</code>, but the result uses all-caps.
               <div class="default-result">
                  <b>Default result:</b> <code>0X0.0000000000001P-1022</code>
               </div>
            </dd>
         <dt>%e</dt>
            <dd>
               Prints the number using scientific notation.
               <div class="default-result">
                  <b>Default result:</b> <code>0.000000e+00</code>
               </div>
            </dd>
         <dt>%f</dt>
            <dd>
               Prints the number out to six significant figures.
               <div class="default-result">
                  <b>Default result:</b> <code>0.000000</code>
               </div>
            </dd>
         <dt>%g</dt>
            <dd>
               Prints the number out to exactly as many decimal points as is 
               necessary if the number has fewer than six significant digits 
               before the decimal point and fewer than four after; otherwise, 
               uses scientific notation like <code>%e</code> does.
               <div class="default-result">
                  <b>Default result:</b> <code>0</code>
               </div>
            </dd>
      </dl>
   
      </main>
      <script src="/MegaloDocs/JS/sidebar.js"></script>
      
   </body>
</html>